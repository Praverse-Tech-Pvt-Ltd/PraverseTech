{
  "entities": {
    "HmWaitlist": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "HmWaitlist",
      "type": "object",
      "description": "Represents a user who has joined the HealthMate waitlist.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the waitlist entry."
        },
        "name": {
          "type": "string",
          "description": "Name of the person joining the waitlist."
        },
        "email": {
          "type": "string",
          "description": "Email address of the person joining the waitlist.",
          "format": "email"
        },
        "org": {
          "type": "string",
          "description": "Organization the person belongs to."
        },
        "role": {
          "type": "string",
          "description": "Role of the person in their organization."
        },
        "useCase": {
          "type": "string",
          "description": "Intended use case for HealthMate."
        },
        "consent": {
          "type": "boolean",
          "description": "Consent given by the person to join the waitlist."
        },
        "ts": {
          "type": "string",
          "description": "Timestamp of when the person joined the waitlist.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "email",
        "org",
        "role",
        "useCase",
        "consent",
        "ts"
      ]
    },
    "HmBriefing": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "HmBriefing",
      "type": "object",
      "description": "Represents a request for an NDA briefing on HealthMate.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the briefing request."
        },
        "name": {
          "type": "string",
          "description": "Name of the person requesting the briefing."
        },
        "email": {
          "type": "string",
          "description": "Email address of the person requesting the briefing.",
          "format": "email"
        },
        "org": {
          "type": "string",
          "description": "Organization of the person requesting the briefing."
        },
        "website": {
          "type": "string",
          "description": "Website of the organization requesting the briefing.",
          "format": "uri"
        },
        "purpose": {
          "type": "string",
          "description": "Purpose of the briefing request."
        },
        "region": {
          "type": "string",
          "description": "Region of the person/organization requesting the briefing."
        },
        "consent": {
          "type": "boolean",
          "description": "Consent given by the person for the briefing request."
        },
        "ts": {
          "type": "string",
          "description": "Timestamp of when the briefing was requested.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "email",
        "org",
        "website",
        "purpose",
        "region",
        "consent",
        "ts"
      ]
    },
    "HmMediaRequest": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "HmMediaRequest",
      "type": "object",
      "description": "Represents a request for a media kit for HealthMate.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the media request."
        },
        "name": {
          "type": "string",
          "description": "Name of the person requesting the media kit."
        },
        "email": {
          "type": "string",
          "description": "Email address of the person requesting the media kit.",
          "format": "email"
        },
        "publication": {
          "type": "string",
          "description": "Name of the publication requesting the media kit."
        },
        "link": {
          "type": "string",
          "description": "Link to the publication."
        },
        "embargoAck": {
          "type": "boolean",
          "description": "Acknowledgement of the press embargo."
        },
        "ts": {
          "type": "string",
          "description": "Timestamp of when the media kit was requested.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "email",
        "publication",
        "link",
        "embargoAck",
        "ts"
      ]
    },
    "HmTimeline": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "HmTimeline",
      "type": "object",
      "description": "Represents a milestone in the HealthMate timeline.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the timeline entry."
        },
        "date": {
          "type": "string",
          "description": "Date or timeframe of the milestone.",
          "format": "date-time"
        },
        "description": {
          "type": "string",
          "description": "Description of the milestone."
        }
      },
      "required": [
        "id",
        "date",
        "description"
      ]
    },
    "HmFaq": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "HmFaq",
      "type": "object",
      "description": "Represents a frequently asked question about HealthMate.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the FAQ entry."
        },
        "question": {
          "type": "string",
          "description": "The question being asked."
        },
        "answer": {
          "type": "string",
          "description": "The answer to the question."
        }
      },
      "required": [
        "id",
        "question",
        "answer"
      ]
    },
    "HmPressNote": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "HmPressNote",
      "type": "object",
      "description": "Represents a press note about HealthMate.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the press note."
        },
        "content": {
          "type": "string",
          "description": "The content of the press note."
        }
      },
      "required": [
        "id",
        "content"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/hm_waitlist/{waitlistId}",
        "definition": {
          "entityName": "HmWaitlist",
          "schema": {
            "$ref": "#/backend/entities/HmWaitlist"
          },
          "description": "Stores entries for users who have joined the HealthMate waitlist. Write-only via Cloud Function. Enforces server-side validation.",
          "params": [
            {
              "name": "waitlistId",
              "description": "Unique identifier for the waitlist entry."
            }
          ]
        }
      },
      {
        "path": "/hm_briefings/{briefingId}",
        "definition": {
          "entityName": "HmBriefing",
          "schema": {
            "$ref": "#/backend/entities/HmBriefing"
          },
          "description": "Stores requests for NDA briefings on HealthMate. Write-only via Cloud Function. Enforces server-side validation.",
          "params": [
            {
              "name": "briefingId",
              "description": "Unique identifier for the briefing request."
            }
          ]
        }
      },
      {
        "path": "/hm_media_requests/{mediaRequestId}",
        "definition": {
          "entityName": "HmMediaRequest",
          "schema": {
            "$ref": "#/backend/entities/HmMediaRequest"
          },
          "description": "Stores requests for media kits for HealthMate. Write-only via Cloud Function. Enforces server-side validation.",
          "params": [
            {
              "name": "mediaRequestId",
              "description": "Unique identifier for the media request."
            }
          ]
        }
      },
      {
        "path": "/hm_timeline/{timelineId}",
        "definition": {
          "entityName": "HmTimeline",
          "schema": {
            "$ref": "#/backend/entities/HmTimeline"
          },
          "description": "Stores timeline milestones for HealthMate. CRUD operations via admin panel.",
          "params": [
            {
              "name": "timelineId",
              "description": "Unique identifier for the timeline entry."
            }
          ]
        }
      },
      {
        "path": "/hm_faq/{faqId}",
        "definition": {
          "entityName": "HmFaq",
          "schema": {
            "$ref": "#/backend/entities/HmFaq"
          },
          "description": "Stores frequently asked questions about HealthMate. CRUD operations via admin panel.",
          "params": [
            {
              "name": "faqId",
              "description": "Unique identifier for the FAQ entry."
            }
          ]
        }
      },
      {
        "path": "/hm_press_note/{pressNoteId}",
        "definition": {
          "entityName": "HmPressNote",
          "schema": {
            "$ref": "#/backend/entities/HmPressNote"
          },
          "description": "Stores press notes about HealthMate. CRUD operations via admin panel.",
          "params": [
            {
              "name": "pressNoteId",
              "description": "Unique identifier for the press note."
            }
          ]
        }
      }
    ],
    "reasoning": "The Firestore data structure is designed to support the HealthMate stealth launch, focusing on lead capture, controlled information release, and easy content management while strictly adhering to the principles of Authorization Independence and QAPs. All writes are secured via Cloud Functions to prevent direct client access and enforce server-side validation, which ensures data integrity and IP protection. The structure leverages segregation and explicit state modeling to simplify security rules and enhance debuggability.\n\n**Authorization Independence:** Achieved by exclusively using `request.auth.uid` within the Cloud Functions, as all data is written server-side and does not rely on client-side authorization. The structure avoids any `get()` calls within the rules, thus ensuring atomic operations.\n\n**QAPs (Rules are not Filters):** The structure enables secure `list` operations on public content (timeline, FAQ, press notes) while restricting write access. All sensitive data (waitlist, briefing requests, media requests) are write-only via Cloud Functions, preventing unauthorized access. The `/admin` section (not directly represented in the data structure but implied by the CMS needs) would be protected by Firebase Authentication and potentially a dedicated `/roles_admin/{uid}` collection (DBAC - Existence over Content), ensuring only authorized users can modify CMS content.\n\nThe data related to the HealthMate product launch (waitlist entries, briefing requests, media requests, timeline, FAQ, and press notes) are stored in dedicated collections at the root level to maintain separation and prevent accidental exposure of internal information. The separation supports the need for different security levels, with lead capture data strictly controlled and CMS data accessible only to authorized admins. The CMS data (timeline, FAQ, press notes) may be read by the public, thus requiring no ownership or membership models."
  }
}